<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SNH48 GROUP 第四届年度金曲大赏歌曲总决选</title>
    <link rel="stylesheet" href="https://cdn.bootcss.com/bootstrap/3.3.5/css/bootstrap.min.css" />
    <script src="https://cdn.hcharts.cn/jquery/jquery-1.8.3.min.js"></script>
    <script src="https://cdn.hcharts.cn/highcharts/highcharts.js"></script>
    <style type="text/css">
        * {
            margin: 0;
            padding: 0;
            border: 0;
            font-family: "Microsoft YaHei";
        }

        .row {
            margin-bottom: 4em;
        }

        .table span, .table b {
            margin: 0 8px 0 0;
        }

        .table tr td:nth-child(1), .table tr td:nth-child(4) {
            text-align: center;
            width: 45px;
            vertical-align: middle;
        }

        .table tr td, .table tr th {
            font-weight: bolder;
        }

        #team-color {
            display: -webkit-flex; /* Safari */
            display: flex;
            flex-direction: row;
            flex-wrap: nowrap;
            justify-content: space-between;
            align-items: stretch;
        }

            #team-color div {
                flex-basis: 1;
                width: 100%;
            }

        #table-snh48 button {
            margin-right: 5px;
            margin-top: 3px;
            margin-bottom: 3px;
            font-weight: bolder;
        }

            #table-snh48 button span.badge {
                margin: 0 0 0 1px;
                background: transparent;
                padding: 3px 0 3px 7px;
                top: -2px;
            }
    </style>
</head>
<body>
    <div id="team-color"></div>
    <div class="container-fluid">
        <div class="row">
            <div class="col-xs-6">
                <h4>Unit曲 排名</h4>
                <table id="table-unit" class="table table-bordered">
                    <tr>
                        <th>排名</th>
                        <th>曲名</th>
                        <th>出处</th>
                        <th>原创</th>
                        <th>阵容</th>
                    </tr>
                </table>
            </div>
            <div class="col-xs-6">
                <h4>Solo曲 排名</h4>
                <table id="table-solo" class="table table-bordered">
                    <tr>
                        <th>排名</th>
                        <th>曲名</th>
                        <th>出处</th>
                        <th>原创</th>
                        <th>歌手</th>
                    </tr>
                </table>
            </div>
            <div class="col-xs-6">
                <h4>队歌 排名</h4>
                <table id="table-team" class="table table-bordered">
                    <tr>
                        <th>排名</th>
                        <th>曲名</th>
                        <th>出处</th>
                        <th>原创</th>
                        <th>队伍</th>
                    </tr>
                </table>
            </div>
            <div class="col-xs-6">
                <h4>BlueV</h4>
                <table id="table-BlueV" class="table table-bordered">
                    <tr>
                        <th>序号</th>
                        <th>演唱歌曲（不计入统计）</th>
                        <th>出处</th>
                        <th>原创</th>
                        <th>组合</th>
                    </tr>
                </table>
            </div>
            <div class="col-xs-6">
                <h4>HO2</h4>
                <table id="table-HO2" class="table table-bordered">
                    <tr>
                        <th>序号</th>
                        <th>演唱歌曲（不计入统计）</th>
                        <th>出处</th>
                        <th>原创</th>
                        <th>组合</th>
                    </tr>
                </table>
            </div>
        </div>
        <div class="row">
            <div class="col-xs-6">
                <div id="chart-new"></div>
            </div>
            <div class="col-xs-6">
                <div id="chart-from"></div>
            </div>
            <div class="col-xs-6">
                <div id="chart-lineup"></div>
            </div>
        </div>
        <div class="row">
            <div class="col-xs-12">
                <div id="chart-top16"></div>
            </div>
        </div>
        <div class="row">
            <div class="col-xs-12">
                <div id="chart-performance"></div>
            </div>
        </div>
        <div class="row">
            <div class="col-xs-12">
                <h4>SNH48 大重组之后各队名单</h4>
                <table id="table-snh48" class="table table-bordered">
                    <tr>
                        <th>队伍</th>
                        <th>成员</th>
                    </tr>
                </table>
            </div>
        </div>
    </div>
    <script type="text/javascript">
        $(document).ready(function () {
            //enabled控制顶部队伍显示，y=>纯此组合的数量
            var team = [
                {
                    name: "SII", color: "#91CCEA", index: 0, enabled: true, y: 0,
                    performance: [
                        { name: "最后的钟声响起", y: 0, new: false },
                        { name: "永恒之光", y: 0, new: false },
                        { name: "不眠之夜", y: 0, new: false },
                        { name: "勇气重生", y: 0, new: false },
                        { name: "让梦想闪耀", y: 0, new: false },
                        { name: "心的旅程", y: 0, new: true },
                        { name: "第48区", y: 0, new: true }
                    ],
                    members: [
                        { name: "陈观慧", initialTeam: 0, batch: 1, partTeam: -1, leader: 0, disable: false },
                        { name: "陈思", initialTeam: 0, batch: 1, partTeam: -1, leader: 0, disable: false },
                        { name: "戴萌", initialTeam: 0, batch: 1, partTeam: -1, leader: 2, disable: false },
                        { name: "蒋芸", initialTeam: 0, batch: 2, partTeam: -1, leader: 0, disable: false },
                        { name: "孔肖吟", initialTeam: 0, batch: 1, partTeam: -1, leader: 0, disable: false },
                        { name: "吕一", initialTeam: 0, batch: 7, partTeam: 3, leader: 0, disable: false },
                        { name: "李宇琪", initialTeam: 0, batch: 1, partTeam: 4, leader: 0, disable: false },
                        { name: "莫寒", initialTeam: 0, batch: 1, partTeam: -1, leader: 1, disable: false },
                        { name: "钱蓓婷", initialTeam: 0, batch: 1, partTeam: -1, leader: 0, disable: false },
                        { name: "邱欣怡", initialTeam: 0, batch: 1, partTeam: -1, leader: 0, disable: false },
                        { name: "孙芮", initialTeam: 0, batch: 2, partTeam: -1, leader: 0, disable: false },
                        { name: "吴哲晗", initialTeam: 0, batch: 1, partTeam: -1, leader: 0, disable: false },
                        { name: "徐晨辰", initialTeam: 0, batch: 1, partTeam: -1, leader: 0, disable: false },
                        { name: "许佳琪", initialTeam: 0, batch: 1, partTeam: -1, leader: 0, disable: false },
                        { name: "徐子轩", initialTeam: 0, batch: 2, partTeam: -1, leader: 0, disable: false },
                        { name: "袁丹妮", initialTeam: 0, batch: 3, partTeam: -1, leader: 0, disable: false },
                        { name: "袁雨桢", initialTeam: 0, batch: 2, partTeam: -1, leader: 0, disable: false },
                        { name: "赵晔", initialTeam: 0, batch: 1, partTeam: -1, leader: 0, disable: false },
                        { name: "张语格", initialTeam: 0, batch: 1, partTeam: -1, leader: 0, disable: false },
                        { name: "刘增艳", initialTeam: 4, batch: 5, partTeam: -1, leader: 0, disable: false },
                        { name: "徐伊人", initialTeam: 2, batch: 3, partTeam: -1, leader: 0, disable: false },
                        { name: "邵雪聪", initialTeam: 3, batch: 4, partTeam: -1, leader: 0, disable: false },

                        { name: "成珏", initialTeam: 0, batch: 6, partTeam: -1, leader: 0, disable: true },
                        { name: "潘燕琦", initialTeam: 0, batch: 7, partTeam: -1, leader: 0, disable: true },
                        { name: "温晶婕", initialTeam: 0, batch: 2, partTeam: -1, leader: 0, disable: true }
                    ]
                },
                {
                    name: "NII", color: "#AE86BA", index: 1, enabled: true, y: 0,
                    performance: [
                        { name: "剧场女神", y: 0, new: false },
                        { name: "逆流而上", y: 0, new: false },
                        { name: "前所未有", y: 0, new: false },
                        { name: "我的太阳", y: 0, new: false },
                        { name: "专属派对", y: 0, new: true },
                        { name: "以爱之名", y: 0, new: true }
                    ],
                    members: [
                        { name: "陈佳莹", initialTeam: 1, batch: 2, partTeam: -1, leader: 0, disable: false },
                        { name: "陈问言", initialTeam: 1, batch: 2, partTeam: -1, leader: 0, disable: false },
                        { name: "冯薪朵", initialTeam: 1, batch: 2, partTeam: -1, leader: 0, disable: false },
                        { name: "黄婷婷", initialTeam: 1, batch: 2, partTeam: -1, leader: 0, disable: false },
                        { name: "何晓玉", initialTeam: 1, batch: 2, partTeam: -1, leader: 1, disable: false },
                        { name: "江真仪", initialTeam: 1, batch: 7, partTeam: -1, leader: 0, disable: false },
                        { name: "金莹玥", initialTeam: 1, batch: 8, partTeam: -1, leader: 0, disable: false },
                        { name: "刘菊子", initialTeam: 1, batch: 7, partTeam: -1, leader: 0, disable: false },
                        { name: "陆婷", initialTeam: 1, batch: 2, partTeam: -1, leader: 0, disable: false },
                        { name: "许逸", initialTeam: 1, batch: 7, partTeam: -1, leader: 0, disable: false },
                        { name: "易嘉爱", initialTeam: 1, batch: 2, partTeam: -1, leader: 2, disable: false },
                        { name: "张雨鑫", initialTeam: 1, batch: 3, partTeam: -1, leader: 0, disable: false },
                        { name: "赵粤", initialTeam: 1, batch: 2, partTeam: -1, leader: 0, disable: false },
                        { name: "郭倩云", initialTeam: 2, batch: 8, partTeam: -1, leader: 0, disable: false },
                        { name: "郝婉晴", initialTeam: 2, batch: 3, partTeam: -1, leader: 0, disable: false },
                        { name: "刘佩鑫", initialTeam: 2, batch: 3, partTeam: 4, leader: 0, disable: false },
                        { name: "谢妮", initialTeam: 2, batch: 3, partTeam: 4, leader: 0, disable: false },
                        { name: "陶波尔", initialTeam: 4, batch: 8, partTeam: -1, leader: 0, disable: false },
                        { name: "严佼君", initialTeam: 4, batch: 5, partTeam: -1, leader: 0, disable: false },
                        { name: "张怡", initialTeam: 4, batch: 5, partTeam: -1, leader: 0, disable: false },

                        { name: "林思意", initialTeam: 1, batch: 2, partTeam: -1, leader: 0, disable: true },
                        { name: "李艺彤", initialTeam: 1, batch: 2, partTeam: -1, leader: 0, disable: true },
                        { name: "万丽娜", initialTeam: 1, batch: 2, partTeam: -1, leader: 0, disable: true },
                        { name: "黄彤扬", initialTeam: 1, batch: 6, partTeam: -1, leader: 0, disable: true },
                        { name: "刘瀛", initialTeam: 1, batch: 7, partTeam: -1, leader: 0, disable: true },
                        { name: "马凡", initialTeam: 1, batch: 8, partTeam: -1, leader: 0, disable: true }
                    ]
                },
                {
                    name: "HII", color: "#F49600", index: 2, enabled: true, y: 0,
                    performance: [
                        { name: "青春派对", y: 0, new: false },
                        { name: "手牵手", y: 0, new: false },
                        { name: "偶像的黎明", y: 0, new: false },
                        { name: "美丽世界", y: 0, new: true }
                    ],
                    members: [
                        { name: "刘炅然", initialTeam: 2, batch: 3, partTeam: 14, leader: 0, disable: false },
                        { name: "林楠", initialTeam: 2, batch: 3, partTeam: -1, leader: 0, disable: false },
                        { name: "沈梦瑶", initialTeam: 2, batch: 5, partTeam: -1, leader: 0, disable: false },
                        { name: "孙珍妮", initialTeam: 2, batch: 6, partTeam: -1, leader: 0, disable: false },
                        { name: "王奕", initialTeam: 2, batch: 8, partTeam: 4, leader: 0, disable: false },
                        { name: "熊沁娴", initialTeam: 2, batch: 8, partTeam: 4, leader: 0, disable: false },
                        { name: "徐晗", initialTeam: 2, batch: 3, partTeam: -1, leader: 0, disable: false },
                        { name: "许杨玉琢", initialTeam: 2, batch: 3, partTeam: -1, leader: 0, disable: false },
                        { name: "袁航", initialTeam: 2, batch: 5, partTeam: -1, leader: 0, disable: false },
                        { name: "杨慧婷", initialTeam: 2, batch: 3, partTeam: -1, leader: 0, disable: false },
                        { name: "袁一琦", initialTeam: 2, batch: 7, partTeam: -1, leader: 0, disable: false },
                        { name: "张昕", initialTeam: 2, batch: 3, partTeam: -1, leader: 1, disable: false },
                        { name: "林思意", initialTeam: 1, batch: 2, partTeam: -1, leader: 0, disable: false },
                        { name: "李艺彤", initialTeam: 1, batch: 2, partTeam: -1, leader: 0, disable: false },
                        { name: "万丽娜", initialTeam: 1, batch: 2, partTeam: -1, leader: 2, disable: false },
                        { name: "费沁源", initialTeam: 4, batch: 5, partTeam: -1, leader: 0, disable: false },
                        { name: "洪珮雲", initialTeam: 4, batch: 5, partTeam: -1, leader: 0, disable: false },
                        { name: "蒋舒婷", initialTeam: 4, batch: 5, partTeam: -1, leader: 0, disable: false },
                        { name: "姜杉", initialTeam: 4, batch: 5, partTeam: -1, leader: 0, disable: false },
                        { name: "宋雨珊", initialTeam: 4, batch: 5, partTeam: -1, leader: 0, disable: false },
                        { name: "李佳恩", initialTeam: 4, batch: 6, partTeam: -1, leader: 0, disable: false },
                        { name: "於佳怡", initialTeam: 4, batch: 5, partTeam: -1, leader: 0, disable: false },
                        { name: "曾晓雯", initialTeam: 4, batch: 7, partTeam: -1, leader: 0, disable: false },
                        { name: "李清扬", initialTeam: 2, batch: 3, partTeam: -1, leader: 0, disable: true },
                        { name: "徐伊人", initialTeam: 2, batch: 3, partTeam: -1, leader: 0, disable: true },
                        { name: "郭倩云", initialTeam: 2, batch: 8, partTeam: -1, leader: 0, disable: true },
                        { name: "郝婉晴", initialTeam: 2, batch: 3, partTeam: -1, leader: 0, disable: true },
                        { name: "刘佩鑫", initialTeam: 2, batch: 3, partTeam: 4, leader: 0, disable: true },
                        { name: "谢妮", initialTeam: 2, batch: 3, partTeam: 4, leader: 0, disable: true },
                        { name: "王柏硕", initialTeam: 2, batch: 3, partTeam: -1, leader: 0, disable: true }
                    ]
                },
                {
                    name: "X", color: "#94D401", index: 3, enabled: true, y: 0,
                    performance: [
                        { name: "梦想的旗帜", y: 0, new: true },
                        { name: "命运的X号", y: 0, new: true }
                    ],
                    members: [
                        { name: "陈琳", initialTeam: 3, batch: 4, partTeam: 4, leader: 0, disable: false },
                        { name: "冯晓菲", initialTeam: 3, batch: 4, partTeam: -1, leader: 0, disable: false },
                        { name: "李晶", initialTeam: 3, batch: 4, partTeam: -1, leader: 0, disable: false },
                        { name: "林忆宁", initialTeam: 3, batch: 6, partTeam: -1, leader: 0, disable: false },
                        { name: "李钊", initialTeam: 3, batch: 4, partTeam: -1, leader: 2, disable: false },
                        { name: "祁静", initialTeam: 3, batch: 7, partTeam: -1, leader: 0, disable: false },
                        { name: "宋昕冉", initialTeam: 3, batch: 4, partTeam: -1, leader: 0, disable: false },
                        { name: "孙歆文", initialTeam: 3, batch: 4, partTeam: -1, leader: 0, disable: false },
                        { name: "汪佳翎", initialTeam: 3, batch: 4, partTeam: -1, leader: 0, disable: false },
                        { name: "汪束", initialTeam: 3, batch: 4, partTeam: -1, leader: 0, disable: false },
                        { name: "王晓佳", initialTeam: 3, batch: 4, partTeam: -1, leader: 0, disable: false },
                        { name: "谢天依", initialTeam: 3, batch: 4, partTeam: -1, leader: 0, disable: false },
                        { name: "杨冰怡", initialTeam: 3, batch: 4, partTeam: -1, leader: 1, disable: false },
                        { name: "杨韫玉", initialTeam: 3, batch: 4, partTeam: -1, leader: 0, disable: false },
                        { name: "张丹三", initialTeam: 3, batch: 4, partTeam: -1, leader: 0, disable: false },
                        { name: "张嘉予", initialTeam: 3, batch: 6, partTeam: -1, leader: 0, disable: false },
                        { name: "吕一", initialTeam: 0, batch: 7, partTeam: 0, leader: 0, disable: false },
                        { name: "陈韫凌", initialTeam: 4, batch: 5, partTeam: -1, leader: 0, disable: false },
                        { name: "潘瑛琪", initialTeam: 4, batch: 5, partTeam: -1, leader: 0, disable: false },
                        { name: "徐诗琪", initialTeam: 4, batch: 7, partTeam: -1, leader: 0, disable: false },
                        { name: "姚祎纯", initialTeam: 3, batch: 7, partTeam: -1, leader: 0, disable: true },
                        { name: "孙亚萍", initialTeam: 3, batch: 8, partTeam: -1, leader: 0, disable: true },
                        { name: "邵雪聪", initialTeam: 3, batch: 4, partTeam: -1, leader: 0, disable: true },
                    ]
                },
                {
                    name: "XII", color: "#03C070", index: 4, enabled: true, y: 0,
                    performance: [{ name: "代号XII", y: 0, new: true }],
                    members: [
                        { name: "陈韫凌", initialTeam: 4, batch: 5, partTeam: -1, leader: 0, disable: true },
                        { name: "费沁源", initialTeam: 4, batch: 5, partTeam: -1, leader: 0, disable: true },
                        { name: "洪珮雲", initialTeam: 4, batch: 5, partTeam: -1, leader: 0, disable: true },
                        { name: "姜杉", initialTeam: 4, batch: 5, partTeam: -1, leader: 0, disable: true },
                        { name: "蒋舒婷", initialTeam: 4, batch: 5, partTeam: -1, leader: 0, disable: true },
                        { name: "李佳恩", initialTeam: 4, batch: 6, partTeam: -1, leader: 0, disable: true },
                        { name: "吕梦莹", initialTeam: 4, batch: 6, partTeam: -1, leader: 0, disable: true },
                        { name: "林歆源", initialTeam: 4, batch: 8, partTeam: -1, leader: 0, disable: true },
                        { name: "刘增艳", initialTeam: 4, batch: 5, partTeam: -1, leader: 0, disable: true },
                        { name: "潘瑛琪", initialTeam: 4, batch: 5, partTeam: -1, leader: 0, disable: true },
                        { name: "宋雨珊", initialTeam: 4, batch: 5, partTeam: -1, leader: 0, disable: true },
                        { name: "陶波尔", initialTeam: 4, batch: 8, partTeam: -1, leader: 0, disable: true },
                        { name: "徐诗琪", initialTeam: 4, batch: 7, partTeam: -1, leader: 0, disable: true },
                        { name: "严佼君", initialTeam: 4, batch: 5, partTeam: -1, leader: 0, disable: true },
                        { name: "於佳怡", initialTeam: 4, batch: 5, partTeam: -1, leader: 0, disable: true },
                        { name: "张文静", initialTeam: 4, batch: 5, partTeam: -1, leader: 0, disable: true },
                        { name: "曾晓雯", initialTeam: 4, batch: 7, partTeam: -1, leader: 0, disable: true },
                        { name: "张怡", initialTeam: 4, batch: 5, partTeam: -1, leader: 0, disable: true }
                    ]
                },

                { name: "B", color: "#EF1B52", index: 5, enabled: true, y: 0, performance: [{ name: "Be A Fighter", y: 0, new: true }] },
                { name: "E", color: "#00C8C3", index: 6, enabled: true, y: 0, performance: [{ name: "奇幻加冕礼", y: 0, new: true }] },
                { name: "J", color: "#006AB6", index: 7, enabled: true, y: 0, performance: [] },

                { name: "G", color: "#9FBF40", index: 8, enabled: true, y: 0, performance: [{ name: "双面偶像", y: 0, new: true }] },
                { name: "NIII", color: "#FFE249", index: 9, enabled: true, y: 0, performance: [{ name: "第一人称", y: 0, new: true }] },
                { name: "Z", color: "#EA617B", index: 10, enabled: true, y: 0, performance: [{ name: "代号-林和西", y: 0, new: false }, { name: "三角函数", y: 0, new: true }] },

                { name: "SIII", color: "#E200CD", index: 11, enabled: true, y: 0, performance: [] },
                { name: "HIII", color: "#8618C2", index: 12, enabled: true, y: 0, performance: [] },
                { name: "Y", color: "transparent", index: 13, enabled: false, y: 0, performance: [] },

                { name: "C", color: "#A46200", index: 14, enabled: false, y: 0, performance: [] },
                { name: "K", color: "#FC4F43", index: 15, enabled: false, y: 0, performance: [] },
                { name: "GII", color: "transparent", index: 16, enabled: false, y: 0, performance: [] },
                {
                    name: "EP", color: "#434348", index: 100, enabled: false, y: 0, performance: [
                        { index: 0, name: "无尽旋转", y: 0, new: false },
                        { index: 1, name: "飞翔入手", y: 0, new: false },
                        { index: 2, name: "爱的幸运曲奇", y: 0, new: false },
                        { index: 3, name: "心电感应", y: 0, new: false },
                        { index: 4, name: "一心向前", y: 0, new: false },
                        { index: 5, name: "UZA", y: 0, new: false },
                        { index: 6, name: "青春的约定", y: 0, new: false },
                        { index: 7, name: "雨季之后", y: 0, new: false },
                        { index: 8, name: "盛夏好声音", y: 0, new: false },
                        { index: 9, name: "万圣节之夜", y: 0, new: false },
                        { index: 10, name: "苦与甜", y: 0, new: false },
                        { index: 11, name: "新年的钟声", y: 0, new: false },
                        { index: 12, name: "源动力", y: 0, new: true },
                        { index: 13, name: "梦想岛", y: 0, new: true },
                        { index: 14, name: "元气觉醒", y: 0, new: true },
                        { index: 15, name: "你所不知道的我", y: 0, new: true },
                        { index: 16, name: "公主披风", y: 0, new: true },
                        { index: 17, name: "浪漫关系", y: 0, new: true },
                        { index: 18, name: "新年这一刻", y: 0, new: true },
                        { index: 19, name: "微笑的向日葵", y: 0, new: true },
                        { index: 20, name: "BOOM!BOOM!", y: 0, new: true },
                        { index: 21, name: "彼此的未来", y: 0, new: true },
                        { index: 22, name: "宣言", y: 0, new: true },
                        { index: 23, name: "I.F", y: 0, new: true },
                        { index: 24, name: "夏日柠檬船", y: 0, new: true },
                        { index: 25, name: "SAY NO", y: 0, new: true },
                        { index: 26, name: "百变惊叹号", y: 0, new: true },
                        { index: 27, name: "前行的力量", y: 0, new: true },
                        { index: 28, name: "那不勒斯的黎明", y: 0, new: true },
                        { index: 29, name: "甜蜜盛典", y: 0, new: true }]
                },
                { name: "组合", color: "#DDD", index: 777, enabled: false, y: 0, performance: [{ name: "7SENSES", y: 0, new: true }, { name: "Color Girls", y: 0, new: true }] },
                { name: "其它", color: "#AAA", index: 999, enabled: false, y: 0, performance: [{ name: "红白歌战", y: 0, new: false }, { name: "1STB30（131）演唱会", y: 0, new: false }, { name: "2ND（725）总选演唱会", y: 0, new: false }] },
                { name: "混合", color: "#AAA", index: 1000, enabled: false, y: 0 }
            ];

            var ft = [
                { name: "李宇琪", initialTeam: 0, batch: 1, partTeam: 0, leader: 2, disable: false },
                { name: "马凡", initialTeam: 1, batch: 8, partTeam: -1, leader: 0, disable: false },
                { name: "刘佩鑫", initialTeam: 2, batch: 3, partTeam: 1, leader: 1, disable: false },
                { name: "王奕", initialTeam: 2, batch: 8, partTeam: 2, leader: 0, disable: false },
                { name: "谢妮", initialTeam: 2, batch: 3, partTeam: 1, leader: 0, disable: false },
                { name: "熊沁娴", initialTeam: 2, batch: 8, partTeam: 2, leader: 0, disable: false },
                { name: "陈琳", initialTeam: 3, batch: 4, partTeam: 3, leader: 0, disable: false },
                { name: "陈盼", initialTeam: 18, batch: 9, partTeam: 0, leader: 0, disable: false },
                { name: "李美琪", initialTeam: 18, batch: 9, partTeam: 0, leader: 0, disable: false },
                { name: "李星羽", initialTeam: 18, batch: 9, partTeam: 0, leader: 0, disable: false },
                { name: "李玉倩", initialTeam: 18, batch: 9, partTeam: 0, leader: 0, disable: false },
                { name: "王溪源", initialTeam: 18, batch: 9, partTeam: 0, leader: 0, disable: false },
                { name: "王欣颜甜甜", initialTeam: 18, batch: 9, partTeam: 0, leader: 0, disable: false },
                { name: "杨美琪", initialTeam: 18, batch: 9, partTeam: 0, leader: 0, disable: false },
                { name: "杨令怡", initialTeam: 18, batch: 9, partTeam: 0, leader: 0, disable: false },
                { name: "张茜", initialTeam: 18, batch: 9, partTeam: 0, leader: 0, disable: false },
                { name: "周诗雨", initialTeam: 18, batch: 9, partTeam: 0, leader: 0, disable: false },
                { name: "朱小丹", initialTeam: 18, batch: 9, partTeam: 0, leader: 0, disable: false },
                { name: "张曦月", initialTeam: 18, batch: 9, partTeam: 0, leader: 0, disable: false }
            ];

            var alternates = [
                { name: "成珏", initialTeam: 0, batch: 6, disable: false },
                { name: "温晶婕", initialTeam: 0, batch: 6, disable: false },
                { name: "潘燕琦", initialTeam: 0, batch: 7, disable: true },
                { name: "沈之琳", initialTeam: 0, batch: 2, disable: true },
                { name: "黄彤扬", initialTeam: 1, batch: 6, disable: false },
                { name: "刘瀛", initialTeam: 1, batch: 7, disable: true },
                { name: "吴燕文", initialTeam: 2, batch: 3, disable: true },
                { name: "王柏硕", initialTeam: 2, batch: 3, disable: true },
                { name: "李清扬", initialTeam: 2, batch: 3, disable: true },
                { name: "林歆源", initialTeam: 4, batch: 8, disable: true },
                { name: "吕梦莹", initialTeam: 4, batch: 6, disable: true },
                { name: "张文静", initialTeam: 4, batch: 5, disable: true },
                { name: "姚祎纯", initialTeam: 3, batch: 7, disable: true },
                { name: "孙亚萍", initialTeam: 3, batch: 8, disable: true },
            ];

            var blueV = [{
                members: [{
                    name: "李宇琪",
                    team: 0
                }, {
                    name: "莫寒",
                    team: 0
                }, {
                    name: "万丽娜",
                    team: 1
                }, {
                    name: "吕一",
                    team: 0
                }, {
                    name: "孙芮",
                    team: 0
                }], performance: {
                    Title: "非你不可",
                    From: [100, 16]
                }
            }, {
                members: [{
                    name: "易嘉爱",
                    team: 1
                }, {
                    name: "邵雪聪",
                    team: 3
                }, {
                    name: "郝婉晴",
                    team: 2
                }, {
                    name: "袁航",
                    team: 2
                }, {
                    name: "沈梦瑶",
                    team: 2
                }], performance: {
                    Title: "黑名单",
                    From: [1, 5]
                }
            }, {
                members: [{
                    name: "宋昕冉",
                    team: 3
                }, {
                    name: "汪束",
                    team: 3
                }, {
                    name: "王晓佳",
                    team: 3
                }, {
                    name: "杨韫玉",
                    team: 3
                }, {
                    name: "张丹三",
                    team: 3
                }], performance: {
                    Title: "石中花",
                    From: [3, 1]
                }
            }];

            var ho2 = [{
                members: [
                    {
                        name: "冯薪朵",
                        team: 1
                    }, {
                        name: "陆婷",
                        team: 1
                    }
                ], performance: {
                    Title: "月光下",
                    From: [0, 5]
                }
            }, {
                members: [
                    {
                        name: "吴哲晗",
                        team: 0
                    }, {
                        name: "蒋芸",
                        team: 0
                    }
                ], performance: {
                    Title: "梦中的婚礼",
                    From: [1, 5]
                }
            }, {
                members: [
                    {
                        name: "马玉灵",
                        team: 6
                    }, {
                        name: "苏杉杉",
                        team: 6
                    }
                ], performance: {
                    Title: "禁忌的爱",
                    From: [2, 0]
                }
            }, {
                members: [
                    {
                        name: "陈珂",
                        team: 8
                    }, {
                        name: "郑丹妮",
                        team: 9
                    }
                ], performance: {
                    Title: "双面偶像",
                    From: [8, 0]
                }
            }, {
                members: [
                    {
                        name: "唐莉佳",
                        team: 9
                    }, {
                        name: "左婧媛",
                        team: 9
                    }
                ], performance: {
                    Title: "蠢蠢",
                    From: [100, 25]
                }
            }];

            $(blueV).each(function (index, group) {
                var memberString = '';
                $(group.members).each(function (i, member) {
                    memberString += '<span style="color:' + team[member.team].color + '">' + member.name + '</span>';
                });
                $("#table-BlueV").append('<tr><td>' + (index + 1) + '</td><td style="color:' + team.find(t => t.index == group.performance.From[0]).color + '">' + group.performance.Title + '</td><td style="color:' + team.find(t => t.index == group.performance.From[0]).color + '">' + team.find(t => t.index == group.performance.From[0]).performance[group.performance.From[1]].name + '</td><td>' + calculateNew(group.performance, true) + '</td><td>' + memberString + '</td></tr>');
            });

            $(ho2).each(function (index, group) {
                var memberString = '';
                $(group.members).each(function (i, member) {
                    memberString += '<span style="color:' + team[member.team].color + '">' + member.name + '</span>';
                });
                $("#table-HO2").append('<tr><td>' + (index + 1) + '</td><td style="color:' + team.find(t => t.index == group.performance.From[0]).color + '">' + group.performance.Title + '</td><td style="color:' + team.find(t => t.index == group.performance.From[0]).color + '">' + team.find(t => t.index == group.performance.From[0]).performance[group.performance.From[1]].name + '</td><td>' + calculateNew(group.performance, true) + '</td><td>' + memberString + '</td></tr>');
            });

            //最上面的各队颜色
            $(team).each(function (i, c) {
                if (c.enabled)
                    $("#team-color").append('<div class="text-center" style="color:#FFF;background:' + c.color + '">' + c.name + '</div>');
            });
            //type:0队歌,1Unit,2Solo
            //new:0复刻，1原创
            //from:出处
            //rank:排名
            var finalData = [{
                Title: "春夏秋冬",
                Rank: 1,
                Type: 1,
                From: [1, 5],
                Member: [
                    {
                        Name: "苏杉杉",
                        Team: 6
                    },
                    {
                        Name: "王诗蒙",
                        Team: 11
                    },
                    {
                        Name: "冯思佳",
                        Team: 6
                    },
                    {
                        Name: "张丹三",
                        Team: 3
                    }
                ]
            },
            {
                Title: "光之轨迹",
                Rank: 2,
                Type: 0,
                From: [1, 5],
                Member: [
                    {
                        Name: "NII",
                        Team: 1
                    }
                ]
            },
            {
                Title: "青涩的香蕉",
                Rank: 3,
                Type: 1,
                From: [0, 4],
                Member: [
                    {
                        Name: "陈珂",
                        Team: 8
                    }, {
                        Name: "郑丹妮",
                        Team: 9
                    }
                ]
            }, {
                Title: "人间规则",
                Rank: 4,
                Type: 2,
                New: true,
                From: [4, 0],
                Member: [
                    {
                        Name: "李艺彤",
                        Team: 1
                    }
                ]
            },
            {
                Title: "未接来电",
                Rank: 5,
                Type: 1,
                From: [1, 5],
                Member: [
                    {
                        Name: "唐莉佳",
                        Team: 9
                    }, {
                        Name: "左婧媛",
                        Team: 9
                    }
                ]
            },
            {
                Title: "猎梦",
                Rank: 6,
                Type: 1,
                From: [1, 5],
                Member: [
                    {
                        Name: "费沁源",
                        Team: 4
                    }, {
                        Name: "杨惠婷",
                        Team: 2
                    }, {
                        Name: "赵佳蕊",
                        Team: 11
                    }
                ]
            },
            {
                Title: "9 to 9",
                Rank: 7,
                Type: 1,
                From: [8, 0],
                Member: [
                    {
                        Name: "戴萌",
                        Team: 0
                    }, {
                        Name: "莫寒",
                        Team: 0
                    }
                ]
            },
            {
                Title: "Monster",
                Rank: 8,
                Type: 2,
                From: [3, 0],
                Member: [
                    {
                        Name: "赵粤",
                        Team: 1
                    }
                ]
            },
            {
                Title: "再爱一回",
                Rank: 9,
                Type: 1,
                From: [0, 0],
                Member: [
                    {
                        Name: "王雨煊",
                        Team: 7
                    }, {
                        Name: "黄恩茹",
                        Team: 7
                    }, {
                        Name: "袁一琦",
                        Team: 2
                    }, {
                        Name: "沈梦瑶",
                        Team: 2
                    }
                ]
            },
            {
                Title: "不曾后悔",
                Rank: 10,
                Type: 1,
                From: [0, 4],
                Member: [
                    {
                        Name: "李钊",
                        Team: 3
                    }, {
                        Name: "李想",
                        Team: 6
                    }, {
                        Name: "菅瑞静",
                        Team: 11
                    }, {
                        Name: "王炯义",
                        Team: 10
                    }
                ]
            },
            {
                Title: "Mad World",
                Rank: 11,
                Type: 1,
                From: [0, 6],
                Member: [
                    {
                        Name: "易嘉爱",
                        Team: 1
                    },
                    {
                        Name: "黄婷婷",
                        Team: 1
                    }
                ]
            },
            {
                Title: "灵魂使者",
                Rank: 12,
                Type: 1,
                From: [0, 6],
                Member: [
                    {
                        Name: "宋昕冉",
                        Team: 3
                    },
                    {
                        Name: "李梓",
                        Team: 6
                    },
                    {
                        Name: "刘胜男",
                        Team: 6
                    },
                    {
                        Name: "胡丽芝",
                        Team: 5
                    }
                ]
            }, {
                Title: "夜蝶",
                Rank: 13,
                Type: 1,
                From: [0, 0],
                Member: [
                    {
                        Name: "许佳琪",
                        Team: 0
                    },
                    {
                        Name: "吴哲晗",
                        Team: 0
                    }
                ]
            },
            {
                Title: "爱的颜色",
                Rank: 14,
                Type: 1,
                From: [1, 1],
                Member: [
                    {
                        Name: "段艺璇",
                        Team: 5
                    },
                    {
                        Name: "张雨鑫",
                        Team: 1
                    },
                    {
                        Name: "苏杉杉",
                        Team: 6
                    },
                    {
                        Name: "张琼予",
                        Team: 8
                    },
                    {
                        Name: "王诗蒙",
                        Team: 11
                    },
                    {
                        Name: "李沁洁",
                        Team: 8
                    }
                ]
            }, {
                Title: "Gravity",
                Rank: 15,
                Type: 0,
                From: [8, 0],
                Member: [
                    {
                        Name: "G",
                        Team: 8
                    }
                ]
            },
            {
                Title: "暴走少女",
                Rank: 16,
                Type: 1,
                From: [9, 0],
                Member: [
                    {
                        Name: "黄婷婷",
                        Team: 1
                    },
                    {
                        Name: "陆婷",
                        Team: 1
                    },
                    {
                        Name: "姜杉",
                        Team: 4
                    },
                    {
                        Name: "韩家乐",
                        Team: 11
                    }
                ]
            }, {
                Title: "少女的遗憾",
                Rank: 17,
                Type: 1,
                From: [2, 2],
                Member: [
                    {
                        Name: "刘增艳",
                        Team: 4
                    },
                    {
                        Name: "肖文铃",
                        Team: 9
                    },
                    {
                        Name: "任心怡",
                        Team: 7
                    }
                ]
            },
            {
                Title: "Remember You",
                Rank: 18,
                Type: 2,
                From: [1, 5],
                Member: [
                    {
                        Name: "林思意",
                        Team: 1
                    }
                ]
            }, {
                Title: "如果你能拥抱我",
                Rank: 19,
                Type: 1,
                From: [1, 1],
                Member: [
                    {
                        Name: "刘炅然",
                        Team: 2
                    },
                    {
                        Name: "袁雨桢",
                        Team: 0
                    },
                    {
                        Name: "罗雪丽",
                        Team: 6
                    }
                ]
            }, {
                Title: "黑天鹅",
                Rank: 20,
                Type: 1,
                From: [1, 4],
                Member: [
                    {
                        Name: "张语格",
                        Team: 0
                    }, {
                        Name: "孙歆文",
                        Team: 3
                    }, {
                        Name: "陈欣妤",
                        Team: 9
                    }, {
                        Name: "王晓佳",
                        Team: 3
                    }
                ]
            }, {
                Title: "美杜莎的温柔",
                Rank: 21,
                Type: 1,
                From: [8, 0],
                Member: [
                    {
                        Name: "杨韫玉",
                        Team: 3
                    },
                    {
                        Name: "胡晓慧",
                        Team: 5
                    },
                    {
                        Name: "冼燊楠",
                        Team: 9
                    }
                ]
            }, {
                Title: "I'm not your girl",
                Rank: 22,
                Type: 1,
                From: [8, 0],
                Member: [
                    {
                        Name: "易嘉爱",
                        Team: 1
                    },
                    {
                        Name: "袁航",
                        Team: 2
                    },
                    {
                        Name: "郝婉晴",
                        Team: 8
                    },
                    {
                        Name: "邵雪聪",
                        Team: 3
                    },
                    {
                        Name: "沈梦瑶",
                        Team: 2
                    }
                ]
            }, {
                Title: "自以为（粤语）",
                Rank: 23,
                Type: 1,
                From: [10, 0],
                Member: [
                    {
                        Name: "张盺",
                        Team: 2
                    },
                    {
                        Name: "冯嘉希",
                        Team: 9
                    },
                    {
                        Name: "杜秋霖",
                        Team: 10
                    },
                    {
                        Name: "陈慧婧",
                        Team: 9
                    },
                    {
                        Name: "高源婧",
                        Team: 8
                    },
                    {
                        Name: "陈雅钰",
                        Team: 7
                    }
                ]
            }, {
                Title: "巧克力蜜语",
                Rank: 24,
                Type: 1,
                From: [2, 1],
                Member: [
                    {
                        Name: "黄婷婷",
                        Team: 3
                    },
                    {
                        Name: "费沁源",
                        Team: 4
                    },
                    {
                        Name: "刘力菲",
                        Team: 9
                    },
                    {
                        Name: "张凯祺",
                        Team: 8
                    }
                ]
            }, {
                Title: "暗夜脚步声",
                Rank: 25,
                Type: 1,
                From: [6, 0],
                Member: [
                    {
                        Name: "冯晓菲",
                        Team: 3
                    },
                    {
                        Name: "杨冰怡",
                        Team: 3
                    },
                    {
                        Name: "赵晔",
                        Team: 0
                    },
                    {
                        Name: "黄彤扬",
                        Team: 1
                    }
                ]
            }, {
                Title: "曲终人散",
                Rank: 26,
                Type: 1,
                From: [1, 1],
                Member: [
                    {
                        Name: "许杨玉琢",
                        Team: 2
                    },
                    {
                        Name: "陈思",
                        Team: 0
                    },
                    {
                        Name: "谢妮",
                        Team: 2
                    },
                    {
                        Name: "林嘉佩",
                        Team: 8
                    }
                ]
            }, {
                Title: "暴风雨之夜",
                Rank: 27,
                Type: 1,
                From: [1, 0],
                Member: [
                    {
                        Name: "刘倩倩",
                        Team: 9
                    },
                    {
                        Name: "杨媛媛",
                        Team: 10
                    },
                    {
                        Name: "叶锦童",
                        Team: 11
                    },
                    {
                        Name: "熊心瑶",
                        Team: 9
                    }
                ]
            }, {
                Title: "爱未央",
                Rank: 28,
                Type: 1,
                From: [0, 6],
                Member: [
                    {
                        Name: "段艺璇",
                        Team: 5
                    },
                    {
                        Name: "青钰雯",
                        Team: 5
                    }
                ]
            }, {
                Title: "Blue Rose",
                Rank: 29,
                Type: 1,
                From: [2, 0],
                Member: [
                    {
                        Name: "洪珮雲",
                        Team: 4
                    },
                    {
                        Name: "於佳怡",
                        Team: 4
                    },
                    {
                        Name: "王诗蒙",
                        Team: 11
                    },
                    {
                        Name: "李媛媛",
                        Team: 6
                    }
                ]
            }, {
                Title: "镜中圣女",
                Rank: 30,
                Type: 1,
                From: [0, 2],
                Member: [
                    {
                        Name: "陈问言",
                        Team: 1
                    },
                    {
                        Name: "程一心",
                        Team: 8
                    },
                    {
                        Name: "张梦慧",
                        Team: 5
                    },
                    {
                        Name: "陈美君",
                        Team: 5
                    },
                    {
                        Name: "陈楠茜",
                        Team: 9
                    }
                ]
            }, {
                Title: "一千零一夜",
                Rank: 31,
                Type: 1,
                From: [6, 0],
                Member: [
                    {
                        Name: "张语格",
                        Team: 0
                    },
                    {
                        Name: "孙珍妮",
                        Team: 2
                    },
                    {
                        Name: "刘力菲",
                        Team: 9
                    }
                ]
            }, {
                Title: "她和她",
                Rank: 32,
                Type: 1,
                From: [4, 0],
                Member: [
                    {
                        Name: "戴萌",
                        Team: 0
                    },
                    {
                        Name: "莫寒",
                        Team: 0
                    }
                ]
            },
            {
                Title: "虫之诗",
                Rank: 33,
                Type: 2,
                From: [1, 1],
                Member: [
                    {
                        Name: "孔肖吟",
                        Team: 0
                    }
                ]
            }, {
                Title: "雨中的钢琴师",
                Rank: 34,
                Type: 1,
                From: [2, 1],
                Member: [
                    {
                        Name: "谢蕾蕾",
                        Team: 8
                    },
                    {
                        Name: "卢静",
                        Team: 9
                    },
                    {
                        Name: "龙亦瑞",
                        Team: 10
                    }
                ]
            }, {
                Title: "更衣室男孩",
                Rank: 35,
                Type: 1,
                From: [0, 1],
                Member: [
                    {
                        Name: "林忆宁",
                        Team: 3
                    },
                    {
                        Name: "张嘉予",
                        Team: 3
                    },
                    {
                        Name: "罗寒月",
                        Team: 8
                    },
                    {
                        Name: "李佳恩",
                        Team: 4
                    },
                    {
                        Name: "冯思佳",
                        Team: 6
                    }
                ]
            }, {
                Title: "雨中动物园",
                Rank: 36,
                Type: 1,
                From: [2, 0],
                Member: [
                    {
                        Name: "刘佩鑫",
                        Team: 2
                    },
                    {
                        Name: "汪佳翎",
                        Team: 3
                    },
                    {
                        Name: "林歆源",
                        Team: 4
                    },
                    {
                        Name: "谢天依",
                        Team: 3
                    },
                    {
                        Name: "杨一帆",
                        Team: 6
                    },
                    {
                        Name: "左嘉欣",
                        Team: 9
                    },
                    {
                        Name: "叶苗苗",
                        Team: 7
                    },
                    {
                        Name: "陶波尔",
                        Team: 4
                    }
                ]
            }, {
                Title: "地平线",
                Rank: 37,
                Type: 1,
                From: [0, 5],
                Member: [
                    {
                        Name: "严佼君",
                        Team: 4
                    },
                    {
                        Name: "张怡",
                        Team: 4
                    },
                    {
                        Name: "赖梓惜",
                        Team: 11
                    },
                    {
                        Name: "陈观慧",
                        Team: 0
                    },
                    {
                        Name: "徐诗琪",
                        Team: 4
                    }
                ]
            }, {
                Title: "心型病毒",
                Rank: 38,
                Type: 1,
                From: [0, 1],
                Member: [
                    {
                        Name: "祁静",
                        Team: 3
                    },
                    {
                        Name: "张怡",
                        Team: 4
                    },
                    {
                        Name: "徐晗",
                        Team: 2
                    }
                ]
            }, {
                Title: "灰姑娘的玻璃手机",
                Rank: 39,
                Type: 1,
                From: [6, 0],
                Member: [
                    {
                        Name: "易嘉爱",
                        Team: 1
                    },
                    {
                        Name: "赵粤",
                        Team: 1
                    }
                ]
            }, {
                Title: "人鱼",
                Rank: 40,
                Type: 1,
                From: [3, 0],
                Member: [
                    {
                        Name: "黄婷婷",
                        Team: 1
                    },
                    {
                        Name: "李艺彤",
                        Team: 1
                    }
                ]
            }, {
                Title: "木偶",
                Rank: 41,
                Type: 2,
                From: [1, 4],
                Member: [
                    {
                        Name: "孙珍妮",
                        Team: 2
                    }
                ]
            }, {
                Title: "天使的圈套",
                Rank: 42,
                Type: 1,
                From: [2, 3],
                Member: [
                    {
                        Name: "钱蓓婷",
                        Team: 0
                    },
                    {
                        Name: "孔肖吟",
                        Team: 0
                    }
                ]
            }, {
                Title: "战歌",
                Rank: 43,
                Type: 0,
                From: [0, 6],
                Member: [
                    {
                        Name: "SII",
                        Team: 0
                    }
                ]
            }, {
                Title: "寒夜",
                Rank: 44,
                Type: 2,
                From: [0, 6],
                Member: [
                    {
                        Name: "邱欣怡",
                        Team: 0
                    }
                ]
            }, {
                Title: "合理失控",
                Rank: 45,
                Type: 2,
                From: [8, 0],
                Member: [
                    {
                        Name: "莫寒",
                        Team: 0
                    }
                ]
            }, {
                Title: "因为喜欢你",
                Rank: 46,
                Type: 0,
                From: [100, 6],
                Member: [
                    {
                        Name: "J",
                        Team: 7
                    }
                ]
            },
            {
                Title: "天使与恶魔",
                Rank: 47,
                Type: 2,
                From: [100, 21],
                Member: [
                    {
                        Name: "徐晨辰",
                        Team: 0
                    }
                ]
            }, {
                Title: "To be continued",
                Rank: 48,
                Type: 0,
                From: [1, 1],
                Member: [
                    {
                        Name: "B",
                        Team: 5
                    }
                ]
            }, {
                Title: "花与火",
                Rank: 49,
                Type: 0,
                From: [2, 3],
                Member: [
                    {
                        Name: "HII",
                        Team: 2
                    }
                ]
            },
            {
                Title: "黑夜女神",
                Rank: 50,
                Type: 2,
                From: [2, 3],
                Member: [
                    {
                        Name: "汪佳翎",
                        Team: 3
                    }
                ]
            }
            ];

            //原创Vs复刻
            var pieNew = [['原创曲', 0], ['复刻曲', 0]];
            //曲目归属公演orEP
            var pieFrom = [];
            //曲目归属队伍
            var pieTeam = [];
            //公演的Categories
            var performanceCategories = [];
            //公演的performance柱子
            var colPerformance = [];

            function sum(arr) {
                var result = 0;
                $(arr).each(function (i, item) {
                    result = (result * 10 + item.y * 10) / 10;
                });
                return result;
            }

            //初始化
            function initChartData() {
                $(team).each(function (i, t) {
                    //出处总和y
                    var y = sum(t.performance);
                    if (t.enabled) {
                        //
                        if (y > 0) {
                            pieFrom.push({ name: t.name, color: t.color, y: y });
                        }
                        //纯SII组合数
                        if (t.y > 0) {
                            pieTeam.push({ name: t.name, color: t.color, y: t.y });
                        }
                    }
                    else {
                        switch (t.name) {
                            case "EP":
                                pieFrom.push({ name: t.name, color: t.color, y: y });
                                break;
                            case "混合":
                                pieTeam.push({ name: t.name, color: t.color, y: t.y });
                                break;
                            default:
                                //console.log(t.name+"不计");
                                break;
                        }
                    }

                    $(t.performance).each(function (index, p) {
                        colPerformance.push({ name: p.name, y: p.y, color: t.color });
                    });

                    var memberlisthtml = "";
                    $(t.members).each(function (index, m) {
                        memberlisthtml += '<button' + (m.disable ? " disabled" : "") + ' class="btn btn-sm" style="background-color:' + team[m.initialTeam].color + '">' + m.name + '<span class="badge">' + m.batch + '</span></button>'
                    });
                    if (t.members && t.members.length > 0) {
                        $("#table-snh48").append('<tr><td>' + t.name + '</td><td>' + memberlisthtml + '</td></tr>')
                    }
                });
                if (ft.length > 0) {
                    var ftlists = '';
                    $(ft).each(function (i, m) {
                        ftlists += '<button' + (m.disable ? " disabled" : "") + ' class="btn btn-sm" style="background-color:' + team[m.initialTeam].color + '">' + m.name + '<span class="badge">' + m.batch + '</span></button>'
                    });
                    $("#table-snh48").append('<tr><td>Ft</td><td>' + ftlists + '</td></tr>');
                }

                if (alternates.length > 0) {
                    var alternatelists = '';
                    $(alternates).each(function (i, m) {
                        alternatelists += '<button' + (m.disable ? " disabled" : "") + ' class="btn btn-sm" style="background-color:' + team[m.initialTeam].color + '">' + m.name + '<span class="badge">' + m.batch + '</span></button>'
                    });
                    $("#table-snh48").append('<tr><td>预</td><td>' + alternatelists + '</td></tr>');
                }
                //console.log('pieTeam', pieTeam);
                pieTeam = $.grep(pieTeam, function (item) {
                    return item.y > 0;
                });
                //console.log('pieFrom', pieFrom);
                pieFrom = $.grep(pieFrom, function (item) {
                    return item.y > 0;
                });
                colPerformance = $.grep(colPerformance, function (item) {
                    if (item.y > 0) {
                        performanceCategories.push(item.name);
                        return true;
                    }
                    else return false;
                })
            }

            //计数：公演归属
            function calculateFrom(item) {
                ++team.find(t => t.index == item.From[0]).performance[item.From[1]].y;
                //console.log(item.Rank + item.Title + team.find(t => t.index == item.From[0]).name, team.find(t => t.index == item.From[0]).performance[item.From[1]].y)
            }

            //计数：原创or复刻
            //doNotCalculate=true，不计算
            function calculateNew(item, doNotCalculate) {
                if (doNotCalculate) {
                    return team.find(t => t.index == item.From[0]).performance[item.From[1]].new ? '<i class="text-success glyphicon glyphicon-ok"></i>' : '<i class="text-danger glyphicon glyphicon-remove"></i>';
                }
                else {
                    if (team.find(t => t.index == item.From[0]).performance[item.From[1]].new) {
                        pieNew[0][1] = ++pieNew[0][1];
                        //console.log(item.Rank + item.Title + '|' + pieNew[0][1] + '：' + pieNew[1][1]);
                        return '<i class="text-success glyphicon glyphicon-ok"></i>';
                    } else {
                        pieNew[1][1] = ++pieNew[1][1];
                        //console.log(item.Rank + item.Title + '|' + pieNew[0][1] + '：' + pieNew[1][1]);
                        return '<i class="text-danger glyphicon glyphicon-remove"></i>';
                    }
                }
            }
            //计数：阵容归属
            function calculateLineup(item) {
                var memberteam = item.Member[0].Team;
                var sameTeam = true;
                $.each(item.Member, function (index, item) {
                    if (memberteam != item.Team) {
                        sameTeam = false;
                    }
                });
                if (sameTeam) {
                    ++team.find(t => t.index == item.Member[0].Team).y;
                } else {
                    ++team.find(t => t.index == 1000).y;
                }
            }

            //数据写入表格
            function initTable(item) {
                switch (item.Type) {
                    //Unit
                    case 1:
                        var member = "";
                        $(item.Member).each(function (i, m) {
                            if (i == 0) {
                                member += '<b style="color:' + team[m.Team].color + '">' + m.Name + '</b>';
                            } else {
                                member += '<b style="color:' + team[m.Team].color + '">' + m.Name + '</b>';
                            }
                        });
                        //计算歌曲归属（队伍or混合）
                        calculateLineup(item);
                        $("#table-unit").append('<tr><td>' + item.Rank + '</td><td style="color:' + team[item.Member[0].Team].color + '">' + item.Title + '</td><td style="color:' + team.find(t => t.index == item.From[0]).color + '">' + team.find(t => t.index == item.From[0]).performance[item.From[1]].name + '</td><td>' + calculateNew(item, false) + '</td><td>' + member + '</td></tr>');
                        break;
                    //Solo
                    case 2:
                        ++team.find(t => t.index == item.Member[0].Team).y;
                        $("#table-solo").append('<tr><td>' + item.Rank + '</td><td style="color:' + team[item.Member[0].Team].color + '">' + item.Title + '</td><td style="color:' + team.find(t => t.index == item.From[0]).color + '">' + team.find(t => t.index == item.From[0]).performance[item.From[1]].name + '</td><td>' + calculateNew(item, false) + '</td><td style="color:' + team[item.Member[0].Team].color + '">' + item.Member[0].Name + '</td></tr>');
                        break;
                    //队歌
                    default:
                        ++team.find(t => t.index == item.Member[0].Team).y;
                        $("#table-team").append('<tr><td>' + item.Rank + '</td><td style="color:' + team[item.Member[0].Team].color + '">' + item.Title + '</td><td style="color:' + team.find(t => t.index == item.From[0]).color + '">' + team.find(t => t.index == item.From[0]).performance[item.From[1]].name + '</td><td>' + calculateNew(item, false) + '</td><td style="color:' + team[item.Member[0].Team].color + '">' + item.Member[0].Name + '</td></tr>');
                        break;
                }
            }


            $(finalData).each(function (index, item) {
                initTable(item);
                calculateFrom(item);
            });
            initChartData();

            //移除空数组
            function removeEmptyItem(arr) {
                for (var i = 16; i >= 0; i--) {
                    if (arr[i][1] === 0) {
                        arr.splice(i, 1);
                    }
                }
            }

            $('#chart-new').highcharts({
                credits: { enabled: false },
                chart: {
                    plotBackgroundColor: null,
                    plotBorderWidth: null,
                    plotShadow: false
                },
                title: {
                    text: '<b>原创曲/复刻曲</b>入选比例'
                },
                colors: [team[3].color, team[5].color],
                plotOptions: {
                    pie: {
                        allowPointSelect: true,
                        cursor: 'pointer',
                        showInLegend: true,
                        dataLabels: {
                            enabled: true,
                            color: '#000000',
                            connectorColor: '#000000',
                            format: '<b>{point.name}</b>： {point.y}首 | {point.percentage:.1f} %'
                        }
                    }
                },
                tooltip: {
                    headerFormat: "",
                    pointFormat: '<b>{point.name}</b>： {point.y}首 | {point.percentage:.1f} %'
                },
                series:
                [
                    {
                        type: 'pie',
                        data: pieNew
                    }
                ]
            });

            $('#chart-from').highcharts({
                credits: { enabled: false },
                chart: {
                    plotBackgroundColor: null,
                    plotBorderWidth: null,
                    plotShadow: false
                },
                title: {
                    text: '<b>出处</b>比例'
                },
                colors: [team[0].color, team[1].color, team[2].color, "#434348", "#888"],
                plotOptions: {
                    pie: {
                        allowPointSelect: true,
                        cursor: 'pointer',
                        showInLegend: true,
                        dataLabels: {
                            enabled: true,
                            color: '#000000',
                            connectorColor: '#000000',
                            format: '<b>{point.name}</b>： {point.y}首 | {point.percentage:.1f} %'
                        }
                    }
                },
                tooltip: {
                    headerFormat: "",
                    pointFormat: '<b>{point.name}</b>： {point.y}首 | {point.percentage:.1f} %'
                },
                series:
                [
                    {
                        type: 'pie',
                        data: pieFrom
                    }
                ]
            });

            $("#chart-lineup").highcharts({
                credits: { enabled: false },
                chart: {
                    plotBackgroundColor: null,
                    plotBorderWidth: null,
                    plotShadow: false
                },
                title: {
                    text: '<b>各队表演</b>曲目数量比例'
                },
                plotOptions: {
                    pie: {
                        allowPointSelect: true,
                        cursor: 'pointer',
                        showInLegend: true,
                        dataLabels: {
                            enabled: true,
                            color: '#000000',
                            connectorColor: '#000000',
                            format: '<b>{point.name}</b>： {point.y}首 | {point.percentage:.1f} %'
                        }
                    }
                },
                tooltip: {
                    headerFormat: "",
                    pointFormat: '<b>{point.name}</b>： {point.y}首 | {point.percentage:.1f} %'
                },
                series:
                [
                    {
                        type: 'pie',
                        data: pieTeam
                    }
                ]
            });

            $('#chart-performance').highcharts({
                credits: { enabled: false },
                chart: { type: 'column' },
                title: { text: '曲目 in 各套公演(or EP)' },
                xAxis: { categories: performanceCategories },
                yAxis: {
                    min: 0,
                    max: 12,
                    allowDecimals: false,
                    title: {
                        text: ' '
                    }
                },
                tooltip: {
                    enabled: false
                },
                plotOptions: {
                    column: {
                        dataLabels: {
                            enabled: true,
                            color: "#414141",
                            style: {
                                fontWeight: 'bold'
                            },
                            formatter: function () {
                                return this.y;
                            }
                        }
                    }
                },
                series: [
                    {
                        name: " ",
                        data: colPerformance,
                        color: 'white'
                    }],
                exporting: { enabled: false }
            });

            //$('#chart-top16').highcharts({
            //    credits: { enabled: false },
            //    chart: { type: 'column' },
            //    title: { text: 'Top16演出曲目数' },
            //    xAxis: {
            //        categories: ['鞠婧祎', '李艺彤', '黄婷婷', '曾艳芬', '冯薪朵', '莫寒', '陆婷', '张语格', '赵粤', '邱欣怡', '许佳琪', '戴萌', '林思意', '万丽娜', '刘炅然', '张丹三']
            //    },
            //    yAxis: {
            //        min: 0,
            //        max: 10,
            //        allowDecimals: false,
            //        title: {
            //            text: ' '
            //        }
            //    },
            //    tooltip: {
            //        enabled: false
            //    },
            //    plotOptions: {
            //        column: {
            //            dataLabels: {
            //                enabled: true,
            //                color: "#414141",
            //                style: {
            //                    fontWeight: 'bold'
            //                },
            //                formatter: function () {
            //                    return this.y;
            //                }
            //            }
            //        },
            //        showInLegend: false
            //    },
            //    series: [{
            //        name: ' ',
            //        color: 'white',
            //        data: colShow16
            //    }],
            //    exporting: { enabled: false }
            //});
        });
    </script>
</body>
</html>
